"use strict";var context={},_customProductHelper={formatNumber:function(t){return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},updatePrice:function(t){var a,e=Number(context.quantity),o=$(".js-submit"),n=$(".js-shadow-wrap"),i=_customProductHelper.matchVariant(),d=Number(i.inventory),c=Number(i.price),r=_.filter(CartJS.cart.items,["id",i.id]),l=r.length>0?r[0].quantity:"",s="We have "+d+" of these in stock",u=s+"<br> and you currently have "+l+" in your cart.",p=s,f=$(".js-warning-cart-limit").html(u),m=$(".js-warning-qty-limit").html(p);r.length>0?e+l>d?(f.addClass("uk-display-block"),o.prop("disabled",!0),n.addClass("fg-disabled"),m.removeClass("uk-display-block")):freeOne?(o.prop("disabled",!0),n.addClass("fg-disabled")):(o.prop("disabled",!1),n.removeClass("fg-disabled"),f.removeClass("uk-display-block")):(f.removeClass("uk-display-block"),e>d?(m.addClass("uk-display-block"),o.prop("disabled",!0),n.addClass("fg-disabled"),f.removeClass("uk-display-block")):e<=d&&(o.prop("disabled",!1),n.removeClass("fg-disabled"),m.removeClass("uk-display-block"))),a=null!==i.compare?_customProductHelper.formatNumber(Number(i.compare*e/100).toFixed(2)):"",c=_customProductHelper.formatNumber(Number(c*e/100).toFixed(2)),""!==i.id&&(window.context.price="$"+c,null!==a&&(window.context.price_compare=""!==a?"$"+a:""))},matchVariant:function(){_customProductHelper.refreshInputState();var t,a={option1:context.option_state_1,option2:context.option_state_2,option3:context.option_state_3},e=_.filter(context.available,a);return void 0===e[0]?t=context.available[0]:void 0!==e[0]&&(t=e[0]),context.selectedVariant=t,t},refreshInputState:function(){window.context.option_state_1=$("[data-option-index=0]").find("input:checked").val(),window.context.option_state_2=$("[data-option-index=1]").find("input:checked").val(),window.context.option_state_3=$("[data-option-index=2]").find("input:checked").val()},whiteListOptions:function(t){var a=["stroke","force","voltage"];return _.includes(a,t)},quantityStep:function(t){return"add"===t?context.quantity=++context.quantity:context.quantity<=1||(context.quantity=--context.quantity),_customProductHelper.updatePrice()},focusInputState:function(){var t=[window.context.option_state_1,window.context.option_state_2,window.context.option_state_3];$.each(t,function(a,e){if(void 0!==t[a]){var o=t[a].replace("&quot;","").replace(" ","-").replace(".","-").toLowerCase();$("fieldset[data-option-index='"+a+"'] div[focus-value]").removeClass("active"),$("fieldset[data-option-index='"+a+"']").find("div[focus-value="+o+"]").addClass("active"),$("fieldset[data-option-index='"+a+"']").find("div[focus-value="+o+"] > input").trigger("change")}})}};!function(t){t(document).ready(function(){Twine.reset(context).bind().refresh(),context.product=contextProduct,context.optionCount=contextOptionCount,context.optionTitle=contextOptionTitle,context.variant=contextVariant,context.selectedID="",function(){context.available=availableList,context.selectedVariant=context.available[0],context.available.length>=1&&_customProductHelper.updatePrice()}(),function(){if(context.available.length>0){for(var a=0;a<context.optionCount;a++)t.each(t("[data-option-index="+a+"]"),function(e,o){var n="option"+(a+1),i=context.available[0][n],d=t(o).find('input[value="'+i+'"]').val();context["option_state_"+(a+1)]=d});context.selectedID=context.available[0].id}}(),t(".js-product-variants input").click(function(){var a=t(this).closest("[data-option-index]"),e=t(a).find("input:checked");t(e).trigger("change"),_customProductHelper.refreshInputState()}),t(".js-submit").click(function(){var a=Number(context.quantity),e=_customProductHelper.matchVariant(),o=Number(e.inventory),n=_.filter(CartJS.cart.items,["id",e.id]),i=n.length>0?n[0].quantity:"",d=a+" Item(s) have been added to the cart",c=t(".js-submit-notice");!1===Number.isInteger(a)?(d="Invalid quantity selected<br>Please select a whole number for quantity",c.html(d),c.addClass("uk-display-block uk-alert-danger"),setTimeout(function(){c.removeClass("uk-display-block uk-alert-danger")},4e3)):a+i>o?_customProductHelper.updatePrice():(c.html(d),c.addClass("uk-display-block uk-alert-primary"),setTimeout(function(){c.removeClass("uk-display-block uk-alert-primary")},4e3),setTimeout(function(){_customProductHelper.updatePrice()},4e3))}),function(){var a=descProduct.match(/<h6>(([\s]*)(.*?))<\/h6>/g),e=[],o=[];t.each(a,function(t,a){a.match("blogs/tutorial")?e.push(a):o.push(a)});var n=descProduct.replace(/<h6>([\s\S]*)<\/h6>/g,""),i=n.split(/<h[4-6]>(.*?)<\/h[4-6]>/g),d=i[0];d=d.replace(/<h2>(.*?)<\/h2>/g,"");var c=i.slice(1),r=_.chunk(c,2),l=[];if(t.each(r,function(a,e){var o=t(e[0]).text();o.length>0&&(e[0]=o),""!==e[0]&&(l[a]=[e[0],e[1]])}),l=_.compact(l),t(".js-product-description").append(d).ready(function(){t(".js-product-description").removeClass("fg-display-none")}),t(window).width()>640){if(o.length>0){var s=t("<span/>").addClass("fg-downloads-title").html("Downloads");t(s).insertBefore(".js-product-downloads"),t.each(o,function(a,e){var o=t(e).find("a").attr("uk-icon","icon:download; ratio: 1.2").unwrap();o=t("<li/>").append(o),t(".js-product-downloads").append(o)})}if(e.length>0){var s=t("<span/>").addClass("fg-downloads-title").html("Tutorials");t(s).insertBefore(".js-product-tutorials"),t.each(e,function(a,e){var o=t(e).find("a").attr("uk-icon","icon:file-text; ratio: 1.2").unwrap();o=t("<li/>").append(o),t(".js-product-tutorials").append(o)})}if(c.length>0){var u=t("<ul/>").attr("uk-tab","animation: uk-animation-slide-left-small, uk-animation-slide-left-small"),p=t("<ul/>").addClass("js-uk-switcher uk-switcher uk-margin-medium-top");t.each(l,function(a,e){var o=t("<a/>").attr("href","#").html(e[0]),n=e[1],i=t("<li/>").append(o),d=t("<li/>").addClass("uk-overflow-auto").append(n);u.append(i),p.append(d)}),t(".js-product-additional-content").append(u),t(".js-product-additional-content").append(p),t("table").addClass("uk-table uk-table-striped uk-table-small uk-table-divider")}else t(".js-product-additional-content").remove()}else if(t(window).width()<=639){t(".js-product-downloads-container").remove();var f=t("<ul/>").addClass("fg-product-downloads"),m=t("<ul/>").addClass("fg-product-downloads"),h=t("<ul/>").addClass("fg-accordion uk-accordion").attr("uk-accordion","");if(c.length>0&&t.each(l,function(a,e){var o=t("<h3/>").html(e[0]).addClass("fg-accordion-h3"),n=_.camelCase(e[0]),i=t("<a/>").attr("href","#"+n).attr("uk-icon","chevron-down").addClass("fg-accordian-title uk-accordion-title").append(o),d=t("<div/>").addClass("uk-accordion-content").attr("id",n).append(e[1]),c=t("<li/>").addClass("fg-accordian-list-item");c.append(i),c.append(d),h.append(c)}),o.length>0){t.each(o,function(a,e){var o=t(e).find("a").attr("uk-icon","icon:download; ratio: 1.2").unwrap();o=t("<li/>").append(o),f.append(o)});var v=t("<h3/>").html("Downloads").addClass("fg-accordion-h3"),k=t("<a/>").attr("href","#").attr("uk-icon","chevron-down").attr("href","#downloads").addClass("fg-accordian-title uk-accordion-title").append(v),b=t("<div/>").addClass("uk-accordion-content").attr("id","downloads").append(f),g=t("<li/>").addClass("fg-accordian-list-item");g.append(k),g.append(b),t(h).prepend(g)}if(e.length>0){t.each(e,function(a,e){var o=t(e).find("a").attr("uk-icon","icon:file-text; ratio: 1.2").unwrap();o=t("<li/>").append(o),m.append(o)});var v=t("<h3/>").html("Tutorials").addClass("fg-accordion-h3"),k=t("<a/>").attr("href","#").attr("uk-icon","chevron-down").attr("href","#tutorials").addClass("fg-accordian-title uk-accordion-title").append(v),b=t("<div/>").addClass("uk-accordion-content").attr("id","downloads").append(m),g=t("<li/>").addClass("fg-accordian-list-item");g.append(k),g.append(b),t(h).prepend(g)}if(c.length>0||f.length>0||m.length>0){t(".js-product-additional-content").append(h);var w=t("<div/>").addClass("uk-overflow-auto");t(".js-product-additional-content table").addClass("uk-table uk-table-striped uk-table-small uk-table-divider").wrap(w)}else t(".js-product-additional-content").remove()}t(".js-product-main-details").css("display","none"),t(".js-product-main-details").fadeIn("slow")}(),t(".js-shadow-wrap").on("click",function(){var a=t(this);a.toggleClass("fg-submit-active"),setTimeout(function(){a.toggleClass("fg-submit-active")},400)}),void 0==context.selectedVariant&&(context.selectedVariant=context.product.variants[0]),_customProductHelper.focusInputState()})}(jQuery);