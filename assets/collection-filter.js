"use strict";!function(t){t(document).ready(function(){var e={};Twine.reset(e).bind().refresh();e.allForce=[],e.allVoltage=[],e.allStroke=[],e.optionRange=[],e.product=[];var n={firstAndLast:function(t){return t.length>1?[t[0],t[t.length-1]]:[t[0]]},divideOption:function(t,o){for(var a,r=t.length,i=Math.round(t.length/3),l=Math.round(t.length/2),c=[],s=0;s<4;s++)t.length>0&&!(r<=4)&&(a=n.firstAndLast(t.splice(0,i)),c.push(a)),t.length>0&&r<=4&&(a=n.firstAndLast(t.splice(0,l)),c.push(a));var u={};u[o]=c,e.optionRange.push(u)},inRange:function(t,e){function n(t){var n,o=parseInt(e[0]);if(e.length>1&&(n=parseInt(e[1])),e.length>1){if(t>=o&&t<=n)return!0}else if(t>=o)return!0}return!!t.some(n)&&(e.length>1?e[0]+"–"+e[1]:e[0])},checkOptionsRange:function(o,a){var r,i=[];return"stroke"==a&&(r=e.optionRange[0][a]),"voltage"!=a&&"input"!=a||(r=e.optionRange[1][a]),"force"==a&&(r=e.optionRange[2][a]),t.each(r,function(t,e){var r=n.inRange(o,e);r&&i.push(a+"–"+r)}),i},createRange:function(t){return t.length>1?t[0]+"–"+t[t.length-1]:1===t.length?t[0].toString():void 0}};!function(){t.each(collectionsJson,function(n,o){for(var a=o.id,r=o.title,i=o.options,l=o.options.length,c=[],n=0;n<l;n++){var s="option"+(n+1),u=[];t.each(o.variants,function(t,e){u.push(e[s])});var p=_.uniq(u);c.push(p)}var h={id:a,titld:r,optionsType:i,options:c,optionCount:l};e.product.push(h)}),t.each(e.product,function(e,n){var o=[];t.each(n.options,function(t,e){var n=e.map(function(t,e){return t.replace(/[^0-9.]/g,"")});o[t]=n}),n.options=o}),t.each(e.product,function(t,n){for(var o=n.optionCount,a=0;a<o;a++){var r=n.optionsType[a].toLowerCase(),i=n.options[a];r.includes("stroke")&&(i=i.map(Number),e.allStroke=_.concat(e.allStroke,i)),r.includes("force")&&(i=i.map(Number),e.allForce=_.concat(e.allForce,i))}}),e.allVoltage=_.sortBy(_.uniq(e.allVoltage)),e.allStroke=_.sortBy(_.uniq(e.allStroke)),e.allForce=_.sortBy(_.uniq(e.allForce))}(),function(){n.divideOption(e.allStroke,"stroke"),n.divideOption(e.allVoltage,"voltage"),n.divideOption(e.allForce,"force");var o=[],a=[],r=[];t.each(e.product,function(t,e){for(var i=[],l=[],c=0;c<e.optionsType.length;c++){var s,u,p=e.optionsType[c].toLowerCase(),h=e.options[c];p.includes("stroke")&&(s=n.checkOptionsRange(h,"stroke"),i.push({stroke:s}),u=n.createRange(h),l.push({stroke:u}),o=o.concat(s)),(p.includes("voltage")||p.includes("input"))&&(s=n.checkOptionsRange(h,"voltage"),i.push({voltage:s}),u=n.createRange(h),l.push({voltage:u}),r=r.concat(s)),p.includes("force")&&(s=n.checkOptionsRange(h,"force"),i.push({force:s}),u=n.createRange(h),l.push({force:u}),a=a.concat(s))}e.optionRange=l,e.classes=i}),o=_.uniq(o),a=_.uniq(a),r=_.uniq(r)}(),function(){var o=[],a=[],r=[];t(".js-list-range").each(function(n,o){var a,r=[],i=e.product[n],l=t("<tr/>"),c=t("<tr/>");i.optionsType.length>0&&t.each(i.optionsType,function(e,n){n.includes("Stroke")&&(a=i.optionRange[e].stroke,l.append(t("<td/>").html("Inches").addClass("uk-table-shrink fg-td-option")),l.append(t("<td/>").html(a+'"').addClass("uk-text-primary")),r.push(l)),n.includes("Force")&&(a=i.optionRange[e].force,c.append(t("<td/>").html("Force").addClass("uk-table-shrink fg-td-option")),c.append(t("<td/>").html(a+" LB").addClass("uk-text-primary")),r.push(c))}),t.each(r,function(e,n){t(o).prepend(n)})}),t(".js-card-filter").each(function(n,o){t.each(e.product[n].classes,function(e,n){var a;n.hasOwnProperty("stroke")&&(a=n.stroke.join(" "),t(o).attr("data-stroke",a+" all-stroke")),n.hasOwnProperty("force")&&(a=n.force.join(" "),t(o).attr("data-force",a+" all-force")),n.hasOwnProperty("voltage")&&(a=n.voltage.join(" "),t(o).attr("data-voltage",a+" all-voltage"))})}),t.each(e.optionRange,function(e,i){i.hasOwnProperty("stroke")&&t.each(i.stroke,function(t,e){o.push(n.createRange(e))}),i.hasOwnProperty("voltage")&&t.each(i.voltage,function(t,e){r.push(n.createRange(e))}),i.hasOwnProperty("force")&&t.each(i.force,function(t,e){a.push(n.createRange(e))})}),e.optionFilter={stroke:o,voltage:r,force:a},t.each(e.optionFilter,function(e,n){if(0!=n.length){var o=e,a=t("<span/>").addClass("fg-collection-subnav__title").html(o),r=t("<ul/>").attr("uk-margin","").addClass("fg-collection-subnav__ul uk-subnav uk-subnav-pill"),i=t("<div/>").addClass("uk-width-auto").append(a);t.each(n,function(n,o){var a,i;i=n<3?e.includes("stroke")?" inches":e.includes("force")?" lb":e.includes("volt")?"V":"":" & OVER";var l=o+i;a=t("<a/>").attr("href","#").html(l);var c=t("<li/>").attr("uk-filter-control","filter: [data-"+e+"*='"+e+"–"+o+"']; group: "+e);c.append(a),r.append(c)}),i.append(r),t(".js-filter-nav").append(i)}})}(),function(){var e,n,o=t(".js-filter__message-text");t("[uk-filter]").on("afterFilter",function(){e=t(".js-card-filter:visible").length,n=e+" items",o.html(n),0===e&&o.html(n+'<br><h4 class="uk-animation-slide-bottom-small">There are no products that match your filter</h4>')})}()})}(jQuery);