{%- capture responsive_image_counter %}{% increment responsive_image_counter %}{% endcapture -%}

{%- assign img_url = image | img_url: '400x400', crop: 'top' -%}

<div id="" data-image-id="{{ image.id }}" class="responsive-image__wrapper {{ wrapper_class }}" {{ wrapper_attributes }} >
  <a class="js-fg-lightbox" href="{{ image | img_url: '1600x' }}">
    <img id="Image-{{ image.id }}-{{ responsive_image_counter }}"
      class="fg-responsive-image__image lazyload {{ image_class }}"
      data-src="{{ image | img_url: '1600x' }}"
      data-srcset="
        {%- if image.width > 180 -%}{{ image | img_url: '180x' }} 180w {{ 180 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 360 -%}{{ image | img_url: '360x' }} 360w {{ 360 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 540 -%}{{ image | img_url: '540x' }} 540w {{ 540 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 700 -%}{{ image | img_url: '700x' }} 700w {{ 700 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 800 -%}{{ image | img_url: '800x' }} 800w {{ 800 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 960 -%}{{ image | img_url: '960x' }} 960w {{ 960 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 1024 -%}{{ image | img_url: '1024x' }} 1024w {{ 1024 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 1280 -%}{{ image | img_url: '1280x' }} 1280w {{ 1280 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 1366 -%}{{ image | img_url: '1366x' }} 1366w {{ 1366 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 1450 -%}{{ image | img_url: '1450x' }} 1450w {{ 1450 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 1600 -%}{{ image | img_url: '1600x' }} 1600w {{ 1600 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}

        {%- if image.width > 1728 -%}{{ image | img_url: '1728x' }} 1728w {{ 1728 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 1944 -%}{{ image | img_url: '1944x' }} 1944w {{ 1944 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 2160 -%}{{ image | img_url: '2160x' }} 2160w {{ 2160 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 2376 -%}{{ image | img_url: '2376x' }} 2376w {{ 2376 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 2592 -%}{{ image | img_url: '2592x' }} 2592w {{ 2592 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 2808 -%}{{ image | img_url: '2808x' }} 2808w {{ 2808 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}
        {%- if image.width > 3024 -%}{{ image | img_url: '3024x' }} 3024w {{ 3024 | divided_by: image.aspect_ratio | round }}h,{%- endif -%}"
      data-aspectratio="{{ image.aspect_ratio }}"
      data-sizes="auto"
      tabindex="-1"
      alt="{{ image.alt | escape }}"
      title="{{ image.alt | escape }}"   
      {{ image_attributes }}
    uk-img>
  </a>
</div>

